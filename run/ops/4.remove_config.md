### 迁移
1. 上层负载nginx中的负载配置upstream中的配置迁移出来，通过gateway的配置来配置,通过gateway下发到业务相关api服务
2. 上层负载nginx配置中加入下发upstream配置，请求下发到gateway
3. 梳理依赖服务部署情况：
    1. *自身业务*: 不同国家机房(idc)都分别部署一套就行(后续加网关层?)
    2. 调用其他部门业务：是否有网关层，yes->是否需要修改业务代码；no->单独在对应机房部署一套


### 现有实现
1. nginx+lua(openresty)实现(ABTestingGateway): 根据自定义策略(policy), 基于nginx，以实现负载均衡，探活(tcp)，插件开发可以选择用lua嵌入脚本，多层缓存数据，及时依赖的后端数据服务跪了，也可以继续工作
2. gateway: 负载均衡(swr)，探活(http)，插件(中间件)，根据tag分流, 并发获取后端数据给前端返回数据； 需要重新开发(golang)，对业务的需求能更细粒度支持

